<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Python for Humanities: Starting With Data</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="badge badge-light" title="This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback." style="background-color: #FFC700; border-radius: 5px">
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#field-testing-alpha-stage" class="external-link alert-link" style="color: #383838">
            <i aria-hidden="true" class="icon" data-feather="alert-triangle" style="border-radius: 5px"></i>
            Alpha
          </a>
          <span class="visually-hidden">This lesson is in the alpha phase, which means that it has been taught once and lesson authors are iterating on feedback.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/01-starting-with-data.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Python for Humanities
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Python for Humanities
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html"></a></li>
          </ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Python for Humanities
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 6%" class="percentage">
    6%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 6%" aria-valuenow="6" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/01-starting-with-data.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-short-introduction-to-Python.html">1. Short Introduction to Programming in Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        2. Starting With Data
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#working-with-pandas-dataframes-in-python">Working With Pandas DataFrames in Python</a></li>
<li><a href="#reading-csv-data-using-pandas">Reading CSV Data Using Pandas</a></li>
<li><a href="#groups-in-pandas">Groups in Pandas</a></li>
<li><a href="#quick-easy-plotting-data-using-pandas">Quick &amp; Easy Plotting Data Using Pandas</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="02-index-slice-subset.html">3. Indexing, Slicing and Subsetting DataFrames in Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="03-data-types-and-format.html">4. Data Types and Formats</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-merging-data.html">5. Combining DataFrames with pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="05-loops-and-functions.html">6. Data workflows and automation</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="06-visualization-ggplot-python.html">7. Plotting with bokeh</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="07-putting-it-all-together.html">8. Data Ingest &amp; Visualization - Matplotlib &amp; Pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="08-working-with-sql.html">9. Accessing SQLite Databases Using Python &amp; Pandas</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li><li><a href="reference.html"></a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="00-short-introduction-to-Python.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="02-index-slice-subset.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="00-short-introduction-to-Python.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Short Introduction
        </a>
        <a class="chapter-link float-end" href="02-index-slice-subset.html" rel="next">
          Next: Indexing, Slicing... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Starting With Data</h1>
        <p>Last updated on 2024-02-13 |
        
        <a href="https://github.com/carpentries-incubator/python-humanities-lesson/edit/main/episodes/01-starting-with-data.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can I import data in Python?</li>
<li>What is Pandas?</li>
<li>Why should I use Pandas to work with data?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Navigate the workshop directory and download a dataset.</li>
<li>Explain what a library is and what libraries are used for.</li>
<li>Describe what the Python Data Analysis Library (Pandas) is.</li>
<li>Load the Python Data Analysis Library (Pandas).</li>
<li>Use <code>read_csv</code> to read tabular data into Python.</li>
<li>Describe what a DataFrame is in Python.</li>
<li>Access and summarize data stored in a DataFrame.</li>
<li>Define indexing as it relates to data structures.</li>
<li>Perform basic mathematical operations and summary statistics on data
in a Pandas DataFrame.</li>
<li>Create simple plots.</li>
</ul></div>
</div>
</div>
</div>
</div>
<section id="working-with-pandas-dataframes-in-python"><h2 class="section-heading">Working With Pandas DataFrames in Python<a class="anchor" aria-label="anchor" href="#working-with-pandas-dataframes-in-python"></a>
</h2>
<hr class="half-width"><p>We can automate the processes listed above using Python. It is
efficient to spend time building code to perform these tasks because
once it is built, we can use our code over and over on different
datasets that share a similar format. This makes our methods easily
reproducible. We can also share our code with colleagues so they can
replicate our analysis.</p>
<div class="section level4">
<h4 id="starting-in-the-same-spot">Starting in the same spot<a class="anchor" aria-label="anchor" href="#starting-in-the-same-spot"></a></h4>
<p>To help the lesson run smoothly, let’s ensure everyone is in the same
directory. This should help us avoid path and file name issues. At this
time please navigate to the workshop directory. If you working in
IPython Notebook be sure that you start your notebook in the workshop
directory.</p>
<p>A quick aside that there are Python libraries like <a href="https://docs.python.org/3/library/os.html" class="external-link">OS Library</a> that can
work with our directory structure, however, that is not our focus
today.</p>
</div>
<div class="section level4">
<h4 id="alexs-processing">Alex’s Processing<a class="anchor" aria-label="anchor" href="#alexs-processing"></a></h4>
<p>Alex is a researcher who is interested in Early English books. Alex
knows the EEBO dataset and refers to it to find data such as titles,
places, and authors. As well as searching for titles, they want to
create some exploratory plots and intermediate datasets.</p>
<p>Alex can do some of this work using spreadsheet systems but this can
be time consuming to do and revise. It can lead to mistakes that are
hard to detect.</p>
<p>The next steps show how Python can be used to automate some of the
processes.</p>
<p>As a result of creating Python scripts, the data can be re-run in the
future.</p>
</div>
<div class="section level4">
<h4 id="our-data">Our Data<a class="anchor" aria-label="anchor" href="#our-data"></a></h4>
<p>For this lesson, we will be using the EEBO catalogue data, a subset
of the data from EEBO/TCP <a href="https://eebo.chadwyck.com/home" class="external-link">Early
English Books Online/Text Creation Partnership</a></p>
<p>We will be using files from the data folder. This section will use
the <code>eebo.csv</code> file that can be found in your data
folder.</p>
<p>We are studying the authors and titles published marked up by the
Text Creation Partnership. The dataset is stored as a comma separated
(<code>.csv</code>) file, where each row holds information for a single
title, and the columns represent diferent aspects (variables) of each
entry:</p>
<table class="table"><thead><tr class="header"><th>Column</th>
<th>Description</th>
</tr></thead><tbody><tr class="odd"><td>TCP</td>
<td>TCP identity</td>
</tr><tr class="even"><td>EEBO</td>
<td>EEBO identity</td>
</tr><tr class="odd"><td>VID</td>
<td>VID identity</td>
</tr><tr class="even"><td>STC</td>
<td>STC identity</td>
</tr><tr class="odd"><td>status</td>
<td>Whether the book is free or not</td>
</tr><tr class="even"><td>Author</td>
<td>Author(s)</td>
</tr><tr class="odd"><td>Date</td>
<td>Date of publication</td>
</tr><tr class="even"><td>Title</td>
<td>The Book title</td>
</tr><tr class="odd"><td>Terms</td>
<td>Terms associated with the text</td>
</tr><tr class="even"><td>Page Count</td>
<td>Number of pages in the text</td>
</tr><tr class="odd"><td>Place</td>
<td>Location where the work was published</td>
</tr></tbody></table><p>If we open the <code>eebo.csv</code> data file using a text editor,
the first few rows of our first file look like this:</p>
<pre><code>TCP,EEBO,VID,STC,Status,Author,Date,Title,Terms,Page Count,Place
A00002,99850634,15849,STC 1000.5; ESTC S115415,Free,"Aylett, Robert, 1583-1655?",1625,"The brides ornaments viz. fiue meditations, morall and diuine. 1. Knowledge, 2. zeale, 3. temperance, 4. bountie, 5. ioy.",,134,London
A00005,99842408,7058,STC 10000; ESTC S106695,Free,"Higden, Ranulf, d. 1364. Polycronicon. English. Selections.; Trevisa, John, d. 1402.",1515,Here begynneth a shorte and abreue table on the Cronycles ...; Saint Albans chronicle.,Great Britain -- History -- To 1485 -- Early works to 1800.; England -- Description and travel -- Early works to 1800.,302,London
A00007,99844302,9101,STC 10002; ESTC S108645,Free,"Higden, Ranulf, d. 1364. Polycronicon.",1528,"The Cronycles of Englonde with the dedes of popes and emperours, and also the descripcyon of Englonde; Saint Albans chronicle.",Great Britain -- History -- To 1485 -- Early works to 1800.; England -- Description and travel -- Early works to 1800.,386,London
A00008,99848896,14017,STC 10003; ESTC S113665,Free,"Wood, William, fl. 1623, attributed name.",1623,Considerations vpon the treaty of marriage between England and Spain,Great Britain -- Foreign relations -- Spain.,14,The Netherlands?
A00011,99837000,1304,STC 10008; ESTC S101178,Free,,1640,"Englands complaint to Iesus Christ, against the bishops canons of the late sinfull synod, a seditious conuenticle, a packe of hypocrites, a sworne confederacy, a traiterous conspiracy ... In this complaint are specified those impieties and insolencies, which are most notorious, scattered through the canons and constitutions of the said sinfull synod. And confuted by arguments annexed hereunto.",Church of England. -- Thirty-nine Articles -- Controversial literature.; Canon law -- Early works to 1800.,54,Amsterdam
A00012,99853871,19269,STC 1001; ESTC S118664,Free,"Aylett, Robert, 1583-1655?",1623,"Ioseph, or, Pharoah's fauourite; Joseph.",Joseph -- (Son of Jacob) -- Early works to 1800.,99,London
A00014,33143147,28259,STC 10011.6; ESTC S3200,Free,,1624,Greate Brittaines noble and worthy councell of warr,"England and Wales. -- Privy Council -- Portraits.; Great Britain -- History -- James I, 1603-1625.; Broadsides -- London (England) -- 17th century.",1,London
A00015,99837006,1310,STC 10011; ESTC S101184,Free,"Jones, William, of Usk.",1607,"Gods vvarning to his people of England By the great ouer-flowing of the vvaters or floudes lately hapned in South-wales and many other places. Wherein is described the great losses, and wonderfull damages, that hapned thereby: by the drowning of many townes and villages, to the vtter vndooing of many thousandes of people.",Floods -- Wales -- Early works to 1800.,16, London
A00018,99850740,15965,STC 10015; ESTC S115521,Free,,1558,The lame[n]tacion of England; Lamentacion of England.,"Great Britain -- History -- Mary I, 1553-1558 -- Early works to 1800.",26,Germany?</code></pre>
<hr></div>
<div class="section level3">
<h3 id="about-libraries">About Libraries<a class="anchor" aria-label="anchor" href="#about-libraries"></a></h3>
<p>A library in Python contains a set of tools (functions) that perform
different actions on our data. Importing a library is like getting a set
of particular tools out of a storage locker and setting them up on the
bench for use in a project. Once a library is set up, its functions can
be used or called to perform different tasks.</p>
</div>
<div class="section level3">
<h3 id="pandas-in-python">Pandas in Python<a class="anchor" aria-label="anchor" href="#pandas-in-python"></a></h3>
<p>One of the best options for working with tabular data in Python is to
use the <a href="https://pandas.pydata.org/" class="external-link">Python Data Analysis
Library</a> (a.k.a. Pandas Library). The Pandas library provides
structures to sort our data, can produce high quality plots in
conjunction with other libraries such as <a href="https://matplotlib.org/" class="external-link">matplotlib</a>, and integrates nicely
with libraries that use <a href="https://www.numpy.org/" class="external-link">NumPy</a>
(which is another common Python library) arrays.</p>
<p>Python doesn’t load all of the libraries available to it by default.
We have to add an <code>import</code> statement to our code in order to
use library functions required for our project. To import a library, we
use the syntax <code>import libraryName</code>, where
<code>libraryName</code> represents the name of the specific library we
want to use. Note that the <code>import</code> command calls a library
that has been installed previously in our system. If we use the
<code>import</code> command to call for a library that does not exist in
our local system, the command will throw and error when executed. In
this case, you can use <code>pip</code> command in another termina
window to install the missing libraries. <a href="https://github.com/resbaz/Intro_Python_Nov2017/blob/master/Python_Installation.md" class="external-link">See
here for details</a> on how to do this.</p>
<p>Moreover, if we want to give the library a nickname to shorten the
command, we can add <code>as nickNameHere</code>. An example of
importing the pandas library using the common nickname <code>pd</code>
is:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code></pre>
</div>
<p>Each time we call a function that’s in a library, we use the syntax
<code>LibraryName.FunctionName</code>. Adding the library name with a
<code>.</code> before the function name tells Python where to find the
function. In the example above, we have imported Pandas as
<code>pd</code>. This means we don’t have to type out
<code>pandas</code> each time we call a Pandas function.</p>
</div>
</section><section id="reading-csv-data-using-pandas"><h2 class="section-heading">Reading CSV Data Using Pandas<a class="anchor" aria-label="anchor" href="#reading-csv-data-using-pandas"></a>
</h2>
<hr class="half-width"><p>We will begin by locating and reading our survey data which are in
CSV format. We can use Pandas’ <code>read_csv</code> function to pull
either a local (a file in our machine) or a remote (one that is
available for downloading from the web) file into a Pandas table or <a href="https://pandas.pydata.org/pandas-docs/stable/dsintro.html#dataframe" class="external-link">DataFrame</a>.</p>
<p>In order to read data in, we need to know where the data is stored on
your computer or its URL address if the file is available on the web. It
is recommended to place the data files in the same directory as the
Jupyter notebook if working with local files</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># note that pd.read_csv is used because we imported pandas as pd</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co"># note that this assumes that the data file is in the same location</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># as the Jupyter notebook</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>pd.read_csv(<span class="st">"eebo.csv"</span>)</span></code></pre>
</div>
<div class="section level3">
<h3 id="so-whats-a-dataframe">So What’s a DataFrame?<a class="anchor" aria-label="anchor" href="#so-whats-a-dataframe"></a></h3>
<p>A DataFrame is a 2-dimensional data structure that can store data of
different types (including characters, integers, floating point values,
factors and more) in columns. It is similar to a spreadsheet or a
<code>data.frame</code> in R. A DataFrame always has an index (0-based).
An index refers to the position of an element in the data structure.</p>
<p>In a terminal window the above command yields the
<strong>output</strong> below. However, the output may differ slightly
if using Jupyter Notebooks:</p>
<pre><code>          TCP        EEBO     VID  \
0      A00002  99850634.0   15849   
1      A00005  99842408.0    7058   
2      A00007  99844302.0    9101   
3      A00008  99848896.0   14017   
4      A00011  99837000.0    1304
...
146  A00525  99856552        ...                854   Prentyd  London
147  A00527  99849909        ...                 72            London
148  A00535  99849912        ...                106        Saint-Omer 
[148 rows x 11 columns]</code></pre>
<p>We can see that there were 149 rows parsed. Each row has 11 columns.
The first column displayed is the <strong>index</strong> of the
DataFrame. The index is used to identify the position of the data, but
it is not an actual column of the DataFrame. It looks like the
<code>read_csv</code> function in Pandas read our file properly.
However, we haven’t saved any data to memory so we can not work with it
yet. We need to assign the DataFrame to a variable so we can call and
use the data. Remember that a variable is a name given to a value, such
as <code>x</code>, or <code>data</code>. We can create a new object with
a variable name by assigning a value to it using <code>=</code>.</p>
<p>Let’s call the imported survey data <code>eebo_df</code>:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>eebo_df <span class="op">=</span> pd.read_csv(<span class="st">"eebo.csv"</span>)</span></code></pre>
</div>
<p>Notice that when you assign the imported DataFrame to a variable,
Python does not produce any output on the screen. We can print the value
of the <code>eebo_df</code> object by typing its name into the Python
command prompt.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>eebo_df</span></code></pre>
</div>
<p>which prints contents like above</p>
</div>
<div class="section level3">
<h3 id="manipulating-our-index-data">Manipulating Our Index Data<a class="anchor" aria-label="anchor" href="#manipulating-our-index-data"></a></h3>
<p>Now we can start manipulating our data. First, let’s check the data
type of the data stored in <code>eebo_df</code> using the
<code>type</code> method. <strong>The <code>type</code> method and
<code>__class__</code> attribute</strong> tell us that
<code>eebo_df</code> is
<code>&lt;class 'pandas.core.frame.DataFrame'&gt;</code>.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="bu">type</span>(eebo_df)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co"># this does the same thing as the above!</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>eebo_df.__class__</span></code></pre>
</div>
<p>We can also enter <code>eebo_df.dtypes</code> at our prompt to view
the data type for each column in our DataFrame. <code>int64</code>
represents numeric integer values - <code>int64</code> cells can not
store decimals. <code>object</code> represents strings (letters and
numbers). <code>float64</code> represents numbers with decimals.</p>
<pre><code><span><span class="va">eebo_df.dtypes</span></span></code></pre>
<p>which returns:</p>
<pre><code>TCP         object
EEBO        int64
VID         int64
STC         object
Status      object
Author      object
Date        int64
Title       object
Terms       object
Page Count  int64
Place       object
dtype: object</code></pre>
<p>We’ll talk a bit more about what the different formats mean in a
different lesson.</p>
<div class="section level4">
<h4 id="useful-ways-to-view-dataframe-objects-in-python">Useful Ways to View DataFrame objects in Python<a class="anchor" aria-label="anchor" href="#useful-ways-to-view-dataframe-objects-in-python"></a></h4>
<p>We can use attributes and methods provided by the DataFrame object to
summarize and access the data stored in it.</p>
<p>To access an attribute, use the DataFrame object name followed by the
attribute name <code>df_object.attribute</code>. For example, we can
access the <a href="https://pandas.pydata.org/docs/reference/indexing.html" class="external-link">Index
object</a> containing the column names of <code>eebo_df</code> by using
its <code>columns</code> attribute</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>eebo_df.columns</span></code></pre>
</div>
<p>As we will see later, we can use the contents of the Index object to
extract (slice) specific records from our DataFrame based on their
values.</p>
<p>Methods are called by using the syntax
<code>df_object.method()</code>. Note the inclusion of open brackets at
the end of the method. Python treats methods as
<strong>functions</strong> associated with a dataframe rather than just
a property of the object as with attributes. Similarly to functions,
methods can include optional parameters inside the brackets to change
their default behaviour.</p>
<p>As an example, <code>eebo_df.head()</code> gets the first few rows in
the DataFrame <code>eebo_df</code> using <strong>the <code>head()</code>
method</strong>. With a method, we can supply extra information within
the open brackets to control its behaviour.</p>
<p>Let’s look at the data using these.</p>
<div id="challenge---dataframes" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge---dataframes" class="callout-inner">
<h3 class="callout-title">Challenge - DataFrames<a class="anchor" aria-label="anchor" href="#challenge---dataframes"></a>
</h3>
<div class="callout-content">
<p>Using our DataFrame <code>eebo_df</code>, try out the attributes
&amp; methods below to see what they return.</p>
<ol style="list-style-type: decimal"><li><p><code>eebo_df.columns</code></p></li>
<li><p><code>eebo_df.shape</code> Take note of the output of
<code>shape</code> - what format does it return the shape of the
DataFrame in?</p></li>
</ol><p>HINT: <a href="https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences" class="external-link">More
on tuples, here</a>.</p>
<ol start="3" style="list-style-type: decimal"><li><p><code>eebo_df.head()</code> Also, what does
<code>eebo_df.head(15)</code> do?</p></li>
<li><p><code>eebo_df.tail()</code></p></li>
</ol></div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="calculating-statistics-from-data-in-a-pandas-dataframe">Calculating Statistics From Data In A Pandas DataFrame<a class="anchor" aria-label="anchor" href="#calculating-statistics-from-data-in-a-pandas-dataframe"></a></h3>
<p>We’ve read our data into Python. Next, let’s perform some quick
summary statistics to learn more about the data that we’re working with.
We might want to know how many different authors are included in our
dataset, or how many works were published in a given year. We can
perform summary stats quickly using groups. But first we need to figure
out what we want to group by.</p>
<p>Let’s begin by exploring our data:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Look at the column names</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>eebo_df.columns.values</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<pre><code>array(['TCP', 'EEBO', 'VID', 'STC', 'Status', 'Author', 'Date', 'Title',
       'Terms', 'Page Count', 'Place'], dtype=object)</code></pre>
<p>Let’s get a list of all the page counts. The <code>pd.unique</code>
function tells us all of the unique values in the <code>Pages</code>
column.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>pd.unique(eebo_df[<span class="st">'Page Count'</span>])</span></code></pre>
</div>
<p>which <strong>returns</strong>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>array([<span class="dv">134</span>, <span class="dv">302</span>, <span class="dv">386</span>,  <span class="dv">14</span>,  <span class="dv">54</span>,  <span class="dv">99</span>,   <span class="dv">1</span>,  <span class="dv">16</span>,  <span class="dv">26</span>,  <span class="dv">62</span>,  <span class="dv">50</span>,  <span class="dv">66</span>,  <span class="dv">30</span>,</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>         <span class="dv">6</span>,  <span class="dv">36</span>,   <span class="dv">8</span>,  <span class="dv">12</span>,  <span class="dv">24</span>,  <span class="dv">22</span>,   <span class="dv">7</span>,  <span class="dv">20</span>,  <span class="dv">40</span>,  <span class="dv">38</span>,  <span class="dv">13</span>,  <span class="dv">28</span>,  <span class="dv">10</span>,</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>        <span class="dv">23</span>,   <span class="dv">2</span>, <span class="dv">112</span>,  <span class="dv">18</span>,   <span class="dv">4</span>,  <span class="dv">27</span>,  <span class="dv">42</span>,  <span class="dv">17</span>,  <span class="dv">46</span>,  <span class="dv">58</span>, <span class="dv">200</span>, <span class="dv">158</span>,  <span class="dv">65</span>,</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>        <span class="dv">96</span>, <span class="dv">178</span>,  <span class="dv">52</span>, <span class="dv">774</span>,  <span class="dv">81</span>, <span class="dv">392</span>,  <span class="dv">74</span>, <span class="dv">162</span>,  <span class="dv">56</span>, <span class="dv">100</span>, <span class="dv">172</span>,  <span class="dv">94</span>,  <span class="dv">79</span>,</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>       <span class="dv">107</span>,  <span class="dv">48</span>, <span class="dv">102</span>, <span class="dv">343</span>, <span class="dv">136</span>,  <span class="dv">70</span>, <span class="dv">156</span>, <span class="dv">133</span>, <span class="dv">228</span>, <span class="dv">357</span>, <span class="dv">110</span>,  <span class="dv">72</span>,  <span class="dv">44</span>,</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>        <span class="dv">43</span>,  <span class="dv">37</span>,  <span class="dv">98</span>, <span class="dv">566</span>, <span class="dv">500</span>, <span class="dv">746</span>, <span class="dv">884</span>, <span class="dv">254</span>, <span class="dv">618</span>, <span class="dv">274</span>, <span class="dv">188</span>, <span class="dv">374</span>,  <span class="dv">47</span>,</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>        <span class="dv">34</span>, <span class="dv">177</span>,  <span class="dv">82</span>,  <span class="dv">78</span>,  <span class="dv">64</span>, <span class="dv">124</span>,  <span class="dv">80</span>, <span class="dv">108</span>, <span class="dv">182</span>, <span class="dv">120</span>,  <span class="dv">68</span>, <span class="dv">854</span>, <span class="dv">106</span>])</span></code></pre>
</div>
<div id="challenge---statistics" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge---statistics" class="callout-inner">
<h3 class="callout-title">Challenge - Statistics<a class="anchor" aria-label="anchor" href="#challenge---statistics"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li><p>Create a list of unique locations found in the index data. Call
it <code>places</code>. How many unique location are there in the
data?</p></li>
<li><p>What is the difference between <code>len(places)</code> and
<code>eebo_df['Place'].nunique()</code>?</p></li>
</ol></div>
</div>
</div>
</div>
</section><section id="groups-in-pandas"><h2 class="section-heading">Groups in Pandas<a class="anchor" aria-label="anchor" href="#groups-in-pandas"></a>
</h2>
<hr class="half-width"><p>We often want to calculate summary statistics grouped by subsets or
attributes within fields of our data. For example, we might want to
calculate the average number of pages of the works in our DataFrame.</p>
<p>We can calculate basic statistics for all records in a single column
by using the syntax below:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].describe()</span></code></pre>
</div>
<p>gives <strong>output</strong></p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>count    <span class="fl">149.000000</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>mean     <span class="fl">104.382550</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>std      <span class="fl">160.125398</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="bu">min</span>        <span class="fl">1.000000</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="dv">25</span><span class="op">%</span>       <span class="fl">16.000000</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="dv">50</span><span class="op">%</span>       <span class="fl">52.000000</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="dv">75</span><span class="op">%</span>      <span class="fl">108.000000</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="bu">max</span>      <span class="fl">884.000000</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>Name: Page Count, dtype: float64</span></code></pre>
</div>
<p>We can also extract specific metrics for one or various columns if we
wish:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].<span class="bu">min</span>()</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].<span class="bu">max</span>()</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].mean()</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].std()</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>eebo_df[<span class="st">'Page Count'</span>].count()</span></code></pre>
</div>
<p>But if we want to summarize by one or more variables, for example
author or publication date, we can use the <strong><code>.groupby</code>
method</strong>. When executed, this method creates a DataFrameGroupBy
object containing a subset of the original DataFrame. Once we’ve created
it, we can quickly calculate summary statistics by a group of our
choice. For example the following code will group our data by place of
publication.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># Group data by status</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>grouped_data <span class="op">=</span> eebo_df.groupby(<span class="st">'Place'</span>)</span></code></pre>
</div>
<p>If we execute the <strong>pandas function
<code>describe</code></strong> on this new object we will obtain
descriptive stats for all the numerical columns in <code>eebo_df</code>
grouped by the different cities available in the <code>Place</code>
column of the DataFrame.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># summary statistics for all numeric columns by place</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>grouped_data.describe()</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="co"># provide the mean for each numeric column by place</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>grouped_data.mean()</span></code></pre>
</div>
<p><code>grouped_data.mean()</code> <strong>OUTPUT:</strong></p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a>                                       EEBO     ...      Page Count</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a>Place                                           ...                </span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>Amsterdam                      <span class="fl">9.983700e+07</span>     ...       <span class="fl">54.000000</span></span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a>Antverpi                       <span class="fl">9.983759e+07</span>     ...       <span class="fl">34.000000</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>Antwerp                        <span class="fl">9.985185e+07</span>     ...       <span class="fl">40.000000</span></span>
<span id="cb20-6"><a href="#cb20-6" tabindex="-1"></a>Cambridge                      <span class="fl">2.445926e+07</span>     ...        <span class="fl">1.000000</span></span>
<span id="cb20-7"><a href="#cb20-7" tabindex="-1"></a>Emden                          <span class="fl">9.984713e+07</span>     ...       <span class="fl">58.000000</span></span></code></pre>
</div>
<p>The <code>groupby</code> command is powerful in that it allows us to
quickly generate summary stats.</p>
<div id="challenge---summary-data" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge---summary-data" class="callout-inner">
<h3 class="callout-title">Challenge - Summary Data<a class="anchor" aria-label="anchor" href="#challenge---summary-data"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>What is the mean page length for books published in
<code>Amsterdam</code> and how many for <code>London</code>
</li>
<li>What happens when you group by two columns using the following
syntax and then grab mean values:</li>
</ol><ul><li><code>grouped_data2 = eebo_df.groupby(['EEBO','Page Count'])</code></li>
<li><code>grouped_data2.mean()</code></li>
</ul><ol start="3" style="list-style-type: decimal"><li>Summarize the Date values in your data. HINT: you can use the
following syntax to only create summary statistics for one column in
your data <code>eebo_df['Page Count'].describe()</code>
</li>
</ol></div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">Did you get #3 right?</h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p><strong>A Snippet of the Output from challenge 3 looks
like:</strong></p>
<pre><code> 
       count    149.000000
       mean    1584.288591
       std       36.158864
       min     1515.000000
       25%     1552.000000
       50%     1583.000000
       75%     1618.000000
       max     1640.000000
         ...</code></pre>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="quickly-creating-summary-counts-in-pandas">Quickly Creating Summary Counts in Pandas<a class="anchor" aria-label="anchor" href="#quickly-creating-summary-counts-in-pandas"></a></h3>
<p>Let’s next count the number of samples for each author. We can do
this in a few ways, but we’ll use <code>groupby</code> combined with
<strong>a <code>count()</code> method</strong>.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="co"># count the number of texts by authors</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>author_counts <span class="op">=</span> eebo_df.groupby(<span class="st">'Author'</span>)[<span class="st">'EEBO'</span>].count()</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="bu">print</span>(author_counts)</span></code></pre>
</div>
<p>Or, we can also count just the rows that have the author “A. B.”:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a>eebo_df.groupby(<span class="st">'Author'</span>)[<span class="st">'EEBO'</span>].count()[<span class="st">'Aylett, Robert, 1583-1655?'</span>]</span></code></pre>
</div>
<div id="challenge---make-a-list" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="challenge---make-a-list" class="callout-inner">
<h3 class="callout-title">Challenge - Make a list<a class="anchor" aria-label="anchor" href="#challenge---make-a-list"></a>
</h3>
<div class="callout-content">
<p>What’s another way to create a list of authors and associated
<code>count</code> of the records in the data? Hint: you can perform
<code>count</code>, <code>min</code>, etc functions on groupby
DataFrames in the same way you can perform them on regular
DataFrames.</p>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="basic-math-functions">Basic Math Functions<a class="anchor" aria-label="anchor" href="#basic-math-functions"></a></h3>
<p>If we wanted to, we could perform math on an entire numerical column
of our data. For example, we might normalize the page number of each
work in our data according to the mean of the entire DataFrame.</p>
<pre><code><span><span class="co"># multiply all page length values by 2</span></span>
<span><span class="va">eebo_df</span><span class="op">[</span><span class="st">'Page Count'</span><span class="op">]</span><span class="op">*</span><span class="fl">2</span></span></code></pre>
</div>
</section><section id="quick-easy-plotting-data-using-pandas"><h2 class="section-heading">Quick &amp; Easy Plotting Data Using Pandas<a class="anchor" aria-label="anchor" href="#quick-easy-plotting-data-using-pandas"></a>
</h2>
<hr class="half-width"><p>We can plot our summary stats using Pandas, too.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># when using a Jupyter notebook, force graphs to appear in line</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="co"># Collect data together</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>date_count <span class="op">=</span> eebo_df.groupby(<span class="st">"Date"</span>)[<span class="st">"Status"</span>].count()</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>date_count.plot(kind<span class="op">=</span><span class="st">"bar"</span>)</span></code></pre>
</div>
<figure><img src="fig/01_weight_by_date.png" alt="Weight by Species Plot" class="figure mx-auto d-block"></figure><p>What does this graph show? Let’s step through</p>
<ul><li>
<code>eebo_df.groupby("Date")</code> : This groups the texts by the
date in which they were published</li>
<li>
<code>eebo_df.groupby("Date")["Status"]</code> : This chooses a
single column to count, rather than counting all columns</li>
<li>
<code>eebo_df.groupby("Date")["Status"].count()</code> : this counts
the instances, i.e. how many texts in a given year have a status?</li>
<li>
<code>date_count.plot(kind="bar")</code> : this plots that data as a
bar chart</li>
</ul><pre><code>
&gt; ## Challenge - Plots
&gt;
&gt; 1. Create a plot of Authors across all Places per plot. Does it look how you
expect it to look?
{: .challenge}

&gt; ## Summary Plotting Challenge
&gt;
&gt; Create a stacked bar plot, showing the total pages published, per year, with
&gt; the different publishing locations stacked on top of each other. The Date
&gt; should go on the X axis, and the Page Count on the Y axis. Some tips are below
&gt; to help you solve this challenge:
&gt;
&gt; * [For more on Pandas plots, visit this link.](http://pandas.pydata.org/pandas-docs/stable/visualization.html#basic-plotting-plot)
&gt; * You can use the code that follows to create a stacked bar plot but the data to stack
&gt;  need to be in individual columns.  Here's a simple example with some data where
&gt;  'a', 'b', and 'c' are the groups, and 'one' and 'two' are the subgroups.
&gt;
&gt; ```
&gt; d = {'one' : pd.Series([1., 2., 3.], index=['a', 'b', 'c']),'two' : pd.Series([1., 2., 3., 4.], index=['a', 'b', 'c', 'd'])}
&gt; pd.DataFrame(d)
&gt; ```
&gt;
&gt; shows the following data
&gt;
&gt; ```
&gt;       one  two
&gt;   a    1    1
&gt;   b    2    2
&gt;   c    3    3
&gt;   d  NaN    4
&gt; ```
&gt;
&gt; We can plot the above with
&gt;
&gt; ```
&gt; # plot stacked data so columns 'one' and 'two' are stacked
&gt; my_df = pd.DataFrame(d)
&gt; my_df.plot(kind='bar', stacked=True, title="The title of my graph")
&gt; ```
&gt;
&gt; ![Stacked Bar Plot](../fig/stackedBar1.png)
&gt;
&gt; * You can use the `.unstack()` method to transform grouped data into columns
&gt; for each plotting.  Try running `.unstack()` on some DataFrames above and see
&gt; what it yields.
&gt;
&gt; Start by transforming the grouped data into an unstacked layout, then create
&gt; a stacked plot.
&gt;
&gt;
&gt;&gt; ## Solution to Summary Challenge
&gt;&gt;
&gt;&gt; First we group data by date and then by place. 
&gt;&gt;
&gt;&gt; ```python
&gt;&gt; date_place = eebo_df.groupby(['Date','Place'])
&gt;&gt; page_sum = date_place['Page Count'].sum()
&gt;&gt; ```
&gt;&gt;
&gt;&gt; This calculates the sums for each place, for each date, as a table
&gt;&gt;
&gt;&gt; ```
&gt;&gt; page_sum
&gt;&gt; Date    Place
&gt;&gt; 1515    London    302
&gt;&gt; 1519    Londini   74
&gt;&gt; 1526     London   150
&gt;&gt; 1528    London    386
&gt;&gt; &lt;other plots removed for brevity&gt;
&gt;&gt; ```
&gt;&gt; 
&gt;&gt; After that, we use the `.unstack()` function on our grouped data to figure
&gt;&gt; out the total contribution of each place, to each year, and then plot the
&gt;&gt; data
&gt;&gt; ```python
&gt;&gt; table = page_sum.unstack()
&gt;&gt; plot = table.plot(kind="bar", stacked=True, title="Pages published per year", figsize=(10,5))
&gt;&gt; plot.set_ylabel("Pages")
&gt;&gt; ```
&gt; {: .solution}
{: .challenge}</code></pre>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="00-short-introduction-to-Python.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="02-index-slice-subset.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="00-short-introduction-to-Python.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Short Introduction
        </a>
        <a class="chapter-link float-end" href="02-index-slice-subset.html" rel="next">
          Next: Indexing, Slicing... 
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries-incubator/python-humanities-lesson/edit/main/episodes/01-starting-with-data.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/carpentries-incubator/python-humanities-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/python-humanities-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/python-humanities-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.3" class="external-link">sandpaper (0.16.3)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.4" class="external-link">pegboard (0.7.4)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/python-humanities-lesson/01-starting-with-data.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Starting With Data",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/python-humanities-lesson/01-starting-with-data.html",
  "identifier": "https://carpentries-incubator.github.io/python-humanities-lesson/01-starting-with-data.html",
  "dateCreated": "2024-02-13",
  "dateModified": "2024-02-13",
  "datePublished": "2024-03-26"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

